{% extends 'blog/base.html' %}
{% load static %}
{% load blog_tags %}

{% block title %}Поиск{% endblock %}

{% block sidebar %}
  {% include 'blog/includes/sidebar_index.html' %}
{% endblock %}

{% block content %}
{% url 'blog:index' as index %}
{% if articles %}
  {% get_results_word articles|length 0 as find_word %}
  {% get_results_word articles|length 1 as results_word %}
  <div class="search-results-header card">
      <h1>По вашему запросу "{{ request.GET.query }}" {{ find_word }} {{ articles|length }} {{ results_word }}</h1>
      <p>Попробуйте поискать что-нибудь другое:</p>
      <form action="{% url 'blog:search' %}" method="get" autocomplete="on" class="search-results-form">
        <input type="text" name="query" placeholder="Введите ваш запрос...">
        <button type="submit">Найти</button>
      </form>
  </div>
  <div class="posts-list">
    {% include 'blog/includes/articles_summary.html' %}
  </div>
{% else %}
  <div class="no-results-card card">
      <i class="fas fa-search no-results-icon"></i>
      <h2>Ничего не найдено</h2>
      <p>К сожалению, по вашему запросу "{{ request.GET.query }}" ничего не найдено.</p>
      <p>Попробуйте поискать что-нибудь другое.</p>
      <form action="{% url 'blog:search' %}" method="get" autocomplete="on" class="search-results-form">
        <input type="text" name="query" placeholder="Введите ваш запрос...">
        <button type="submit">Найти</button>
      </form>
  </div>
{% endif %}
{% endblock %}